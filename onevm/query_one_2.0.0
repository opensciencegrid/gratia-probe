#!/usr/bin/python

import os
import sys
import pprint
import socket

from gratia.onevm.opennebula.scheduler import OneQueue

def main(argv):

    last_vm_id = 5000
    if len(argv) == 2:
        last_vm_id = int(argv[1])
    q = OneQueue(socket.gethostname())
    pp = pprint.PrettyPrinter()
    pp.pprint(q.getJobsInfo(range(1,last_vm_id+1)))

if __name__ == '__main__':
    main(sys.argv)

